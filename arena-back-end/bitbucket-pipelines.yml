image: node:20.18.0

pipelines:  
  branches:
    main:
      - step:
          name: Build and Test
          caches:
            - node
          script:
            - npm ci
            - npm run build
            - npm test
          artifacts:
            - dist/**
            - build/**
      - step:
          name: Deploy to Production
          deployment: production
          script:
            - echo "Deploying to production..."
            # Adicione aqui seus comandos de deploy

definitions:
  caches:
    node: node_modules